<html>
    <head>
        <title>Form Validation using Regex</title>
        <script>
            function validateEmail() {
                var pattern = /^\w{1,}\.?\w+@[a-z]+\.{1}[a-z]+\.?[a-z]+$/;
                var emailInput = document.getElementById("emailInput").value;
                console.log(pattern.test(emailInput));
                var emailErrorSpan = document.getElementById("emailErrorSpan");
                var result = pattern.test(emailInput);
                if (result) {
                    emailErrorSpan.innerHTML = "";
                } else {
                    emailErrorSpan.innerHTML = "Please Input valid email";
                }
                return result;
            }
            function validatePassword() {
                var pattern = /^[A-Z][A-Za-z0-9_*\.*@*]{7,}/;
                //^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}
                // from http://stackoverflow.com/a/21456918/5152351
                var passwordInput = document.getElementById("passwordInput").value;
                console.log(pattern.test(passwordInput));
                var passwordErrorSpan = document.getElementById("passwordErrorSpan");
                var result = pattern.test(passwordInput);
                if (result) {
                    passwordErrorSpan.innerHTML = "";
                } else {
                    passwordErrorSpan.innerHTML = "Your Password should start with Capital letter " +
                    "and should have atleast one '_ or . or @' and should be atleast 8 characters";
                }
                return result;
            }

            function matchPassword() {
                var passwordInput = document.getElementById("passwordInput");
                var reenterPasswordInput = document.getElementById("reenterPasswordInput");
                var result = passwordInput.value == reenterPasswordInput.value;
                var reenterPasswordErrorSpan = document.getElementById("reenterPasswordErrorSpan");
                if (result) {
                    reenterPasswordErrorSpan.innerHTML = "";
                } else {
                    reenterPasswordErrorSpan.innerHTML = "Passwords dont match";
                }
                return result;
            }

            function validateMobile() {
                var pattern = /^[9|8|7]\d{9}$/
                var mobileNumberInput = document.getElementById("mobileNumberInput");
                var result = pattern.test(mobileNumberInput.value);
                var mobileNumberErrorSpan = document.getElementById("mobileNumberErrorSpan");
                if(!result) {
                    mobileNumberErrorSpan.innerHTML = "Please enter valid Phone Number";
                } else {
                    mobileNumberErrorSpan.innerHTML = "";
                }
                return result;
            }

            function validatePin() {
                var pattern = /^\d{6}/
                var pinNumberInput = document.getElementById("pinNumberInput").value;
                var result = pattern.test(pinNumberInput);
                var pinNumberErrorSpan = document.getElementById("pinNumberErrorSpan");
                if (!result) {
                    pinNumberErrorSpan.innerHTML = "Please enter valid PIN number";
                } else {
                    pinNumberErrorSpan.innerHTML = "";
                }
                return result;
            }

            function submitData() {
                var emailValidate = validateEmail();
                var passwordValidate = validatePassword();
                var mobileValidate = validateMobile();
                var pinValidate = validatePin();
                if (emailValidate && passwordValidate && mobileValidate && pinValidate) {
                    return true;
                } else {
                    return false;
                }
            }

            function resetSpans() {
                document.getElementById("emailErrorSpan").innerHTML = "";
                document.getElementById("passwordErrorSpan").innerHTML = "";
                document.getElementById("reenterPasswordErrorSpan").innerHTML = "";
                document.getElementById("mobileNumberErrorSpan").innerHTML = "";
                document.getElementById("pinNumberErrorSpan").innerHTML = "";
            }
        </script>
    </head>
    <body>
        <form onsubmit="return submitData();" onreset="resetSpans();" action="1.html" method="POST">
            <input type="text" name="email" placeholder="email" id="emailInput" onchange="validateEmail();" />
            <span id="emailErrorSpan"></span><br>
            <input type="password" name="password" id="passwordInput" placeholder="password" onchange="validatePassword();" />
            <span id="passwordErrorSpan"></span><br>
            <input type="password" name="reenterPassword" id="reenterPasswordInput" placeholder="Re-enter Password" onchange="matchPassword();" />
            <span id="reenterPasswordErrorSpan"></span><br>
            <input type="text" name="mobileNumber" id="mobileNumberInput" onchange="validateMobile();" placeholder="Mobile Number" />
            <span id="mobileNumberErrorSpan"></span><br>
            <input type="text" name="pinNumber" onchange="validatePin();" id="pinNumberInput" placeholder="PIN Number" />
            <span id="pinNumberErrorSpan"></span><br>
            <input type="submit" value="Submit" /><br>
            <input type="reset" value="Reset"/>
        </form>
    </body>
</html>